<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Resistance Online</title>
    <link rel="stylesheet" href="resistance-styles.css">
</head>
<body>
    <!-- Main Menu Screen -->
    <div id="mainMenu" class="screen">
        <div class="hero-section">
            <h1 class="game-title">üïµÔ∏è The Resistance Online</h1>
            <p class="game-description">
                Entre na resist√™ncia clandestina! Trabalhe em equipe para completar miss√µes secretas,
                mas cuidado - h√° espi√µes infiltrados entre voc√™s tentando sabot√°-las.
            </p>
            <div class="menu-buttons">
                <button id="createRoomBtn" class="primary-btn">üè† Criar Sala</button>
                <button id="joinRoomBtn" class="primary-btn">üö™ Entrar em Sala</button>
                <button id="tutorialBtn" class="secondary-btn">üìñ Tutorial</button>
            </div>
        </div>
    </div>

    <!-- Room Creation Screen -->
    <div id="roomCreation" class="screen hidden">
        <div class="form-container">
            <h2>üè† Criar Nova Sala</h2>
            <div class="form-group">
                <label for="hostName">Seu Nome:</label>
                <input type="text" id="hostName" maxlength="20" placeholder="Digite seu nome">
            </div>
            <div class="form-group">
                <label for="roomName">Nome da Sala:</label>
                <input type="text" id="roomName" maxlength="30" placeholder="Nome da sala">
            </div>
            <div class="form-group">
                <label for="maxPlayers">N√∫mero de Jogadores:</label>
                <select id="maxPlayers">
                    <option value="5">5 Jogadores (3 Resist√™ncia, 2 Espi√µes)</option>
                    <option value="6">6 Jogadores (4 Resist√™ncia, 2 Espi√µes)</option>
                    <option value="7">7 Jogadores (4 Resist√™ncia, 3 Espi√µes)</option>
                    <option value="8">8 Jogadores (5 Resist√™ncia, 3 Espi√µes)</option>
                    <option value="9">9 Jogadores (6 Resist√™ncia, 3 Espi√µes)</option>
                    <option value="10">10 Jogadores (6 Resist√™ncia, 4 Espi√µes)</option>
                </select>
            </div>
            <div class="form-group">
                <h3>Modos de Jogo:</h3>
                <div class="checkbox-group">
                    <label><input type="checkbox" id="assassinMode"> Modo Assassino</label>
                    <label><input type="checkbox" id="specialRoles"> Personagens Especiais</label>
                    <label><input type="checkbox" id="ambushMode"> Modo Emboscada (8+ jogadores)</label>
                    <label><input type="checkbox" id="deserterMode"> Modo Desertor</label>
                </div>
            </div>
            <div class="form-buttons">
                <button id="createRoomConfirm" class="primary-btn">Criar Sala</button>
                <button id="backToMenu" class="secondary-btn">Voltar</button>
            </div>
        </div>
    </div>

    <!-- Join Room Screen -->
    <div id="joinRoom" class="screen hidden">
        <div class="form-container">
            <h2>üö™ Entrar em Sala</h2>
            <div class="form-group">
                <label for="playerName">Seu Nome:</label>
                <input type="text" id="playerName" maxlength="20" placeholder="Digite seu nome">
            </div>
            <div class="form-group">
                <label for="roomCode">C√≥digo da Sala:</label>
                <input type="text" id="roomCode" maxlength="6" placeholder="Ex: ABC123" style="text-transform: uppercase;">
            </div>
            <div class="form-buttons">
                <button id="joinRoomConfirm" class="primary-btn">Entrar</button>
                <button id="backToMenuFromJoin" class="secondary-btn">Voltar</button>
            </div>
        </div>
    </div>

    <!-- Lobby Screen -->
    <div id="lobby" class="screen hidden">
        <div class="lobby-container">
            <div class="lobby-header">
                <h2 id="lobbyTitle">Sala: AGUARDANDO</h2>
                <div class="room-info">
                    <span id="roomCodeDisplay">C√≥digo: ------</span>
                    <span id="playerCount">0/5 jogadores</span>
                </div>
            </div>
            
            <div class="lobby-content">
                <div class="players-section">
                    <h3>Jogadores na Sala:</h3>
                    <div id="playersList" class="players-list"></div>
                    <div id="hostControls" class="host-controls hidden">
                        <div class="host-buttons">
                            <button id="startGameBtn" class="primary-btn" disabled>Iniciar Jogo</button>
                            <button id="startSimulationBtn" class="simulation-btn">ü§ñ Iniciar Simula√ß√£o</button>
                        </div>
                    </div>
                </div>
                
                <div class="chat-section">
                    <div id="chatMessages" class="chat-messages"></div>
                    <div class="chat-input">
                        <input type="text" id="chatInput" placeholder="Digite sua mensagem...">
                        <button id="sendMessage" class="send-btn">üì§</button>
                    </div>
                </div>
            </div>
            
            <button id="leaveLobby" class="secondary-btn">Sair da Sala</button>
        </div>
    </div>

    <!-- Game Screen -->
    <div id="gameScreen" class="screen hidden">
        <div class="game-container">
            <div class="game-header">
                <h2>The Resistance</h2>
                <div class="game-info">
                    <span id="gamePhase">Aguardando in√≠cio...</span>
                    <span id="missionCounter">Miss√£o 1 de 5</span>
                </div>
            </div>
            
            <div class="game-board">
                <div class="missions-track">
                    <div class="mission" data-mission="1">
                        <div class="mission-info">
                            <span class="mission-number">1</span>
                            <span id="mission1-size" class="team-size">2</span>
                        </div>
                        <div id="mission1-result" class="mission-result pending"></div>
                    </div>
                    <div class="mission" data-mission="2">
                        <div class="mission-info">
                            <span class="mission-number">2</span>
                            <span id="mission2-size" class="team-size">3</span>
                        </div>
                        <div id="mission2-result" class="mission-result pending"></div>
                    </div>
                    <div class="mission" data-mission="3">
                        <div class="mission-info">
                            <span class="mission-number">3</span>
                            <span id="mission3-size" class="team-size">2</span>
                        </div>
                        <div id="mission3-result" class="mission-result pending"></div>
                    </div>
                    <div class="mission" data-mission="4">
                        <div class="mission-info">
                            <span class="mission-number">4</span>
                            <span id="mission4-size" class="team-size">3</span>
                        </div>
                        <div id="mission4-result" class="mission-result pending"></div>
                    </div>
                    <div class="mission" data-mission="5">
                        <div class="mission-info">
                            <span class="mission-number">5</span>
                            <span id="mission5-size" class="team-size">3</span>
                        </div>
                        <div id="mission5-result" class="mission-result pending"></div>
                    </div>
                </div>

                <div class="rejection-track">
                    <h4>Rejei√ß√µes consecutivas:</h4>
                    <div class="rejection-counter">
                        <span id="rejectionCount">0</span>/5
                        <div class="rejection-dots">
                            <span class="dot"></span>
                            <span class="dot"></span>
                            <span class="dot"></span>
                            <span class="dot"></span>
                            <span class="dot"></span>
                        </div>
                    </div>
                </div>
            </div>

            <div class="game-content">
                <div class="left-panel">
                    <div class="role-info">
                        <h3>Seu Papel:</h3>
                        <div id="playerRole" class="role-card">
                            <div class="role-icon">‚ùì</div>
                            <div class="role-details">
                                <div class="role-name">Aguardando...</div>
                                <div class="role-team">-</div>
                            </div>
                        </div>
                        <div id="spyInfo" class="spy-info hidden">
                            <h4>Outros Espi√µes:</h4>
                            <div id="spyList"></div>
                        </div>
                    </div>

                    <div class="game-players">
                        <h3>Jogadores:</h3>
                        <div id="gamePlayersList" class="game-players-list"></div>
                    </div>
                </div>

                <div class="center-panel">
                    <div id="actionArea" class="action-area">
                        <!-- Team Selection Phase -->
                        <div id="teamSelection" class="phase-content hidden">
                            <h3>Sele√ß√£o de Equipe</h3>
                            <p>O l√≠der deve selecionar <span id="requiredTeamSize">2</span> membros para a miss√£o.</p>
                            <div id="teamSelectionPlayers" class="selectable-players"></div>
                            <div class="team-actions">
                                <button id="confirmTeam" class="primary-btn" disabled>Confirmar Equipe</button>
                            </div>
                        </div>

                        <!-- Voting Phase -->
                        <div id="votingPhase" class="phase-content hidden">
                            <h3>Vota√ß√£o da Equipe</h3>
                            <div id="proposedTeam" class="proposed-team">
                                <h4>Equipe Proposta:</h4>
                                <div id="teamMembers"></div>
                            </div>
                            <p>Vote se voc√™ aprova ou rejeita esta equipe:</p>
                            <div class="vote-buttons">
                                <button id="approveTeam" class="approve-btn">‚úÖ Aprovar</button>
                                <button id="rejectTeam" class="reject-btn">‚ùå Rejeitar</button>
                            </div>
                            <div id="voteResults" class="vote-results hidden">
                                <h4>Resultado da Vota√ß√£o:</h4>
                                <div class="vote-breakdown">
                                    <div class="votes-approve">
                                        <h5>‚úÖ Aprovaram:</h5>
                                        <div id="approveVoters" class="voters-list"></div>
                                    </div>
                                    <div class="votes-reject">
                                        <h5>‚ùå Rejeitaram:</h5>
                                        <div id="rejectVoters" class="voters-list"></div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Mission Phase -->
                        <div id="missionPhase" class="phase-content hidden">
                            <h3>Execu√ß√£o da Miss√£o</h3>
                            <p>Voc√™ foi selecionado para a miss√£o. Escolha sua carta:</p>
                            <div class="mission-cards">
                                <button id="successCard" class="mission-card success">
                                    <div class="card-icon">‚úÖ</div>
                                    <div class="card-name">Sucesso</div>
                                </button>
                                <button id="failCard" class="mission-card fail">
                                    <div class="card-icon">‚ùå</div>
                                    <div class="card-name">Fracasso</div>
                                </button>
                            </div>
                        </div>

                        <!-- Waiting Phase -->
                        <div id="waitingPhase" class="phase-content">
                            <h3>Aguardando outros jogadores...</h3>
                            <div class="loading-spinner"></div>
                        </div>
                    </div>
                </div>

                <div class="right-panel">
                    <div class="chat-game">
                        <h3>Chat do Jogo</h3>
                        <div id="gameChatMessages" class="chat-messages-game"></div>
                        <div class="chat-input-game">
                            <input type="text" id="gameChatInput" placeholder="Digite...">
                            <button id="sendGameMessage" class="send-btn">üì§</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Victory Screen -->
    <div id="victoryScreen" class="screen hidden">
        <div class="victory-container">
            <div id="victoryContent" class="victory-content">
                <h1 id="victoryTitle">üèÜ Vit√≥ria!</h1>
                <div id="victoryTeam" class="victory-team"></div>
                <p id="victoryDescription">O jogo terminou!</p>
                
                <div class="game-summary">
                    <h3>Resumo do Jogo:</h3>
                    <div id="finalRoles" class="final-roles"></div>
                </div>
                
                <div class="victory-buttons">
                    <button id="playAgain" class="primary-btn">üîÑ Jogar Novamente</button>
                    <button id="backToMainMenu" class="secondary-btn">üè† Menu Principal</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Tutorial Screen -->
    <div id="tutorialScreen" class="screen hidden">
        <div class="tutorial-container">
            <h2>üìñ Como Jogar The Resistance</h2>
            
            <div class="tutorial-content">
                <div class="tutorial-section">
                    <h3>üéØ Objetivo</h3>
                    <p>A <strong>Resist√™ncia</strong> precisa completar 3 miss√µes com sucesso para vencer.</p>
                    <p>Os <strong>Espi√µes</strong> devem sabotar 3 miss√µes ou causar 5 rejei√ß√µes consecutivas.</p>
                </div>
                
                <div class="tutorial-section">
                    <h3>‚ö° Fases do Jogo</h3>
                    <ol>
                        <li><strong>Sele√ß√£o de Equipe:</strong> O l√≠der escolhe jogadores para a miss√£o</li>
                        <li><strong>Vota√ß√£o:</strong> Todos votam se aprovam ou rejeitam a equipe</li>
                        <li><strong>Miss√£o:</strong> Se aprovada, membros da equipe escolhem Sucesso/Fracasso</li>
                        <li><strong>Resultado:</strong> Cartas s√£o reveladas e a miss√£o √© resolvida</li>
                    </ol>
                </div>
                
                <div class="tutorial-section">
                    <h3>üë• Distribui√ß√£o de Pap√©is</h3>
                    <ul>
                        <li>5 jogadores: 3 Resist√™ncia, 2 Espi√µes</li>
                        <li>6 jogadores: 4 Resist√™ncia, 2 Espi√µes</li>
                        <li>7 jogadores: 4 Resist√™ncia, 3 Espi√µes</li>
                        <li>8 jogadores: 5 Resist√™ncia, 3 Espi√µes</li>
                        <li>9 jogadores: 6 Resist√™ncia, 3 Espi√µes</li>
                        <li>10 jogadores: 6 Resist√™ncia, 4 Espi√µes</li>
                    </ul>
                </div>
                
                <div class="tutorial-section">
                    <h3>üîç Regras Especiais</h3>
                    <ul>
                        <li>Espi√µes se conhecem no in√≠cio do jogo</li>
                        <li>Apenas espi√µes podem colocar cartas de Fracasso</li>
                        <li>4¬™ miss√£o com 7+ jogadores precisa de 2+ fracassos para falhar</li>
                        <li>5 rejei√ß√µes consecutivas = vit√≥ria imediata dos espi√µes</li>
                    </ul>
                </div>
            </div>
            
            <button id="closeTutorial" class="primary-btn">Entendi!</button>
        </div>
    </div>

    <script src="resistance-script.js"></script>
</body>
</html>